{"modules":[{"id":"53529a47-c775-4d96-a8d0-e44df173d93e","type":"Transfer","branches":[{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-west-2:897790359321:instance/7be91079-4999-44d3-bf17-022d8fb0b2ad/contact-flow/3fdbf5a0-566e-472d-9230-b6fc2bf123a7","resourceName":"Sample queue configurations flow"}],"metadata":{"position":{"x":760,"y":638},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-west-2:897790359321:instance/7be91079-4999-44d3-bf17-022d8fb0b2ad/contact-flow/3fdbf5a0-566e-472d-9230-b6fc2bf123a7","text":"Sample queue configurations flow"}},"target":"Flow"},{"id":"dff76cf5-d73a-4c12-b68e-495c9a7e1bbc","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":2074,"y":228}}},{"id":"2ddb360e-ddb4-496e-a400-e8d82126539a","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b854d9a5-d006-4a40-b99e-2e5acf4aaf16"}],"parameters":[{"name":"Text","value":"Can not retrieve your case status.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1595,"y":250},"useDynamic":false}},{"id":"9af8d52f-b065-477a-b00a-c849a19de262","type":"PlayPrompt","branches":[{"condition":"Success","transition":"b854d9a5-d006-4a40-b99e-2e5acf4aaf16"}],"parameters":[{"name":"Text","value":"The status of your case is $.External.caseStatus","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1591,"y":78},"useDynamic":false}},{"id":"2a6d8e7a-6a6d-4ca4-98cf-dd14eb26fb84","type":"PlayPrompt","branches":[{"condition":"Success","transition":"dff76cf5-d73a-4c12-b68e-495c9a7e1bbc"}],"parameters":[{"name":"Text","value":"Thank you, have a good day!","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1386,"y":466},"useDynamic":false}},{"id":"463c2d91-9192-4952-a079-673b07de5251","type":"PlayPrompt","branches":[{"condition":"Success","transition":"53529a47-c775-4d96-a8d0-e44df173d93e"}],"parameters":[{"name":"Text","value":"One moment while I transfer you to an agent","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":469,"y":621},"useDynamic":false}},{"id":"5f8012d1-cac4-4577-ba60-99c216a7d4a8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"Hello $.Attributes.sugarContactName, you can ask for any of the following options. At any time during our conversation, type “connect to an agent” to speak with an agent.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":128,"y":144},"useDynamic":false}},{"id":"a2c10dcb-46e3-487a-a96b-fd4ec18b10ea","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"I do not understand this. Please try again.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":160,"y":372},"useDynamic":false}},{"id":"b854d9a5-d006-4a40-b99e-2e5acf4aaf16","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8bf390a6-de38-48ee-93e4-3e5e99557567"}],"parameters":[{"name":"Text","value":"If you would like to do something else, you can choose from the options or type \"done\" if you are done.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1866,"y":282},"useDynamic":false}},{"id":"8bf390a6-de38-48ee-93e4-3e5e99557567","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"getCase","transition":"e4206c32-04fe-4087-8378-82599f8308ae"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"done","transition":"2a6d8e7a-6a6d-4ca4-98cf-dd14eb26fb84"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"connectToAgent","transition":"463c2d91-9192-4952-a079-673b07de5251"},{"condition":"NoMatch","transition":"a2c10dcb-46e3-487a-a96b-fd4ec18b10ea"},{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"Text","value":"a. Check case status\nb. Connect to an agent","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"SugarServeSampleBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-west-2"}],"metadata":{"position":{"x":425,"y":75},"conditionMetadata":[{"id":"f99bdfaf-266e-4160-bba9-224b9db91f8c","value":"getCase"},{"id":"7112d33c-bb49-4168-a2e4-a357fda2169d","value":"done"},{"id":"ec94a23d-76e3-42f2-a783-c37eb4574434","value":"connectToAgent"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"77a90dde-7711-40d7-8940-053359f04a2c","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"200","transition":"9af8d52f-b065-477a-b00a-c849a19de262"},{"condition":"NoMatch","transition":"2ddb360e-ddb4-496e-a400-e8d82126539a"}],"parameters":[{"name":"Attribute","value":"statusCode"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1360,"y":137},"conditionMetadata":[{"id":"ed5fc97d-e28b-47db-be49-17f6f583c251","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"200"}]}},{"id":"c931ee33-1884-4414-85e9-a8b1655e77e2","type":"PlayPrompt","branches":[{"condition":"Success","transition":"dff76cf5-d73a-4c12-b68e-495c9a7e1bbc"}],"parameters":[{"name":"Text","value":"Unexpected error.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1081,"y":653},"useDynamic":false}},{"id":"e4206c32-04fe-4087-8378-82599f8308ae","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Contains","conditionValue":"no","transition":"463c2d91-9192-4952-a079-673b07de5251"},{"condition":"NoMatch","transition":"7e3b2b2c-11ea-4777-b3d6-4ac5b93b2683"}],"parameters":[{"name":"Attribute","value":"caseNumber"},{"name":"Namespace","value":"Lex.Slots"}],"metadata":{"position":{"x":778,"y":142},"conditionMetadata":[{"id":"5c59d789-d719-48f7-a0cb-aa69072a989e","operator":{"name":"Contains","value":"Contains","shortDisplay":"contains"},"value":"no"}]}},{"id":"7e3b2b2c-11ea-4777-b3d6-4ac5b93b2683","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"77a90dde-7711-40d7-8940-053359f04a2c"},{"condition":"Error","transition":"c931ee33-1884-4414-85e9-a8b1655e77e2"}],"parameters":[{"name":"FunctionArn","value":"arn:aws:lambda:us-west-2:897790359321:function:getCaseStatus","namespace":null},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"caseNumber","value":"caseNumber","namespace":"Lex.Slots"}],"metadata":{"position":{"x":1087,"y":140},"dynamicMetadata":{"caseNumber":true},"useDynamic":false},"target":"Lambda"}],"version":"1","type":"contactFlow","start":"5f8012d1-cac4-4577-ba60-99c216a7d4a8","metadata":{"entryPointPosition":{"x":15,"y":15},"snapToGrid":false,"name":"SugarCRM_Portal_Chat_Contact_Flow_Nov_2020","description":null,"type":"contactFlow","status":"saved","hash":"ba0cca774ebc50022d733fc9d21f052dea578b06d17f8d4ec8463ab1f68c2bb9"}}